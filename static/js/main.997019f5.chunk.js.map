{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","app.module.css","components/Searchbar/searchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/Api.js","components/Searchbar/Searchbar.js","components/Button/Button.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","ImageGalleryItem","image","id","tags","webformatURL","key","className","styles","src","alt","ImageGalleryItemImage","width","height","Modal","largeImageURL","onClose","Overlay","onClick","role","ImageGallery","state","isModalOpen","openModal","e","currentTarget","target","setState","closeModal","code","window","addEventListener","this","removeEventListener","images","props","map","Component","mainURL","last","fetchImages","query","page","axios","get","Searchbar","handleQueryChange","onSubmit","preventDefault","handleSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","onChange","autoComplete","autoFocus","placeholder","Button","loadMoreBtn","App","isLoading","error","getImages","imagesAPI","then","data","hits","catch","finally","persist","console","log","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","showModal","color","handleCloseModal","length","ReactDOM","render","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,IAAM,mB,sDCAxBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,+HCUtLC,EANU,SAAC,GAAD,QAAEC,MAASC,EAAX,EAAWA,GAAIC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,aAArB,OACrB,wBAAIC,IAAKH,EAAII,UAAWC,IAAOP,kBACjC,yBAAMQ,IAAKJ,EAAcK,IAAKN,EAAMG,UAAWC,IAAOG,sBAAuBC,MAAM,MAAMC,OAAO,U,kCCInFC,EARD,SAAC,GAAD,IAAGC,EAAH,EAAGA,cAAeC,EAAlB,EAAkBA,QAAlB,OACZ,yBAAKT,UAAWC,IAAOS,QAASC,QAASF,EAASG,KAAK,gBACrD,yBAAKZ,UAAWC,IAAOM,OACrB,yBAAKL,IAAKM,EAAeL,IAAI,GAAGE,MAAM,MAAMC,OAAO,WC0D1CO,E,4MArDbC,MAAQ,CACNC,aAAa,EACbP,cAAe,M,EAWjBQ,UAAY,SAACC,GACPA,EAAEC,gBAAkBD,EAAEE,QACxB,EAAKC,SAAS,CACZL,aAAa,EACbP,cAAeS,EAAEE,OAAOjB,O,EAK9BmB,WAAa,SAACJ,GACG,WAAXA,EAAEK,MAAqBL,EAAEC,gBAAkBD,EAAEE,QAC/C,EAAKC,SAAS,CACZL,aAAa,K,kEAnBjBQ,OAAOC,iBAAiB,UAAWC,KAAKJ,c,6CAIxCE,OAAOG,oBAAoB,UAAWD,KAAKJ,c,+BAoBnC,IAAD,EACgCI,KAAKX,MAApCC,EADD,EACCA,YAAaP,EADd,EACcA,cACbmB,EAAWF,KAAKG,MAAhBD,OAER,OACE,oCACE,wBACE3B,UAAWC,IAAOY,aAClBF,QAASc,KAAKT,UACdJ,KAAK,gBAEJe,EAAOE,KAAI,SAAClC,GAAD,OACV,kBAAC,EAAD,CAAkBI,IAAKJ,EAAMC,GAAID,MAAOA,QAG3CoB,GACC,kBAAC,EAAD,CAAOP,cAAeA,EAAeC,QAASgB,KAAKJ,kB,GA/ClCS,a,kCCRrBC,EAAU,8BACVC,EACJ,8FAIWC,EAAc,eAACC,EAAD,uDAAS,OAAQC,EAAjB,8CACzBC,IAAMC,IAAIN,EAAUG,EAHR,IAGwBC,EAAOH,I,gBCsB9BM,EArBG,SAAC,GAAD,IAAEL,EAAF,EAAEA,YAAaC,EAAf,EAAeA,MAAOK,EAAtB,EAAsBA,kBAAtB,OAChB,oCACA,4BAAQvC,UAAWC,IAAOqC,WACxB,0BAAME,SAAU,SAACvB,GAAD,OATE,SAACA,EAAGgB,GACtBhB,EAAEwB,iBACFR,IAOuBS,CAAazB,EAAGgB,IAAcjC,UAAWC,IAAO0C,YACrE,4BAAQC,KAAK,SAAS5C,UAAWC,IAAO4C,kBACtC,0BAAM7C,UAAWC,IAAO6C,uBAAxB,WAEF,2BACE9C,UAAWC,IAAO8C,gBAClBC,MAAOd,EACPe,SAAUV,EACVK,KAAK,OACLM,aAAa,MACbC,WAAS,EACTC,YAAY,iC,iBCjBLC,EAJA,SAAC,GAAD,IAAEC,EAAF,EAAEA,YAAF,OACX,4BAAQ3C,QAAS2C,EAAatD,UAAWC,IAAOoD,QAAhD,c,iBCwJWE,E,4MAjJbzC,MAAQ,CACNa,OAAQ,GACR6B,WAAW,EACXC,MAAO,KACPvB,MAAO,GACPC,KAAM,EACNpB,aAAa,G,EAef2C,UAAY,WACV,EAAKtC,SAAS,CACZoC,WAAW,IAEbG,EACe,EAAK7C,MAAMoB,MAAO,GAC9B0B,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAKzC,SAAS,CACZO,OAAO,YAAIkC,EAAKC,WAInBC,OAAM,SAACN,GAAD,OACL,EAAKrC,SAAS,CACZqC,aAGHO,SAAQ,WACP,EAAK5C,SAAS,CACZoC,WAAW,Q,EA6BnBjB,kBAAoB,SAACtB,GACnBA,EAAEgD,UACF,EAAK7C,SAAS,CACZc,MAAOjB,EAAEE,OAAO6B,S,EAUpBM,YAAe,WACbY,QAAQC,IAAI,EAAKrD,MAAMqB,MACvB+B,QAAQC,IAAI,EAAKrD,MAAMoB,OACvByB,EAAsB,EAAK7C,MAAMoB,MAAO,EAAKpB,MAAMqB,KAAO,GACzDyB,MAAK,gBAAEC,EAAF,EAAEA,KAAF,OACN,EAAKzC,UAAS,SAACgD,GAAD,MAAgB,CAC5BjC,KAAMiC,EAAUjC,KAAO,EACvBR,OAAO,GAAD,mBAAMyC,EAAUzC,QAAhB,YAA2BkC,EAAKC,cAIrCC,OAAM,SAACN,GAAD,OACL,EAAKrC,SAAS,CACZqC,aAGHO,SAAQ,WACPzC,OAAO8C,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAEZ,EAAKtD,SAAS,CACZoC,WAAW,Q,EAMnBmB,UAAY,SAAC1D,GACX,EAAKG,SAAS,CACZL,aAAa,IAEfmD,QAAQC,IAAIlD,EAAEE,S,EAIhBE,WAAa,WACX,EAAKD,SAAS,CACZL,aAAa,K,uDAIP,IAAD,EAC2CU,KAAKX,MAA/Ca,EADD,EACCA,OAAQ6B,EADT,EACSA,UAAWtB,EADpB,EACoBA,MAAOnB,EAD3B,EAC2BA,YAClC,OACE,yBAAKf,UAAWC,IAAOsD,KACrB,kBAAC,EAAD,CACErB,MAAOA,EACPK,kBAAmBd,KAAKc,kBACxBN,YAAaR,KAAKiC,YAGnBF,GACC,kBAAC,IAAD,CAAQZ,KAAK,SAASgC,MAAM,UAAUtE,OAAQ,GAAID,MAAO,KAE1D,kBAAC,EAAD,CAAcsB,OAAQA,EAAQX,UAAWS,KAAKkD,YAC7C5D,GAAgB,kBAAC,EAAD,CAAO8D,iBAAkBpD,KAAKJ,WAAYM,OAAQA,IACnEA,EAAOmD,OAAS,GAAK,kBAAC,EAAD,CAAQxB,YAAa7B,KAAK6B,mB,GA5ItCxB,aCNlBiD,IAASC,OACL,kBAAC,EAAD,MACFT,SAASU,eAAe,U,kBCL1BzF,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.997019f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__VUenJ\",\"Modal\":\"modal_Modal__3hf3Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__l_d9Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__15yQk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__3GesR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__ohU6_\",\"SearchFormButton\":\"searchBar_SearchFormButton__4TYD1\",\"SearchFormButtonLabel\":\"searchBar_SearchFormButtonLabel__1Q9-f\",\"SearchFormInput\":\"searchBar_SearchFormInput__1qUkn\"};","import React from 'react';\r\nimport styles from './imageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types'\r\n\r\n \r\nconst ImageGalleryItem = ({image : {id, tags, webformatURL} }) => (\r\n    <li key={id} className={styles.ImageGalleryItem}>\r\n  <img  src={webformatURL} alt={tags} className={styles.ImageGalleryItemImage} width=\"300\" height=\"200\"/>\r\n</li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n    image: PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        tags: PropTypes.string.isRequired,\r\n        webformatURL: PropTypes.string.isRequired\r\n    })\r\n}","import React from \"react\";\r\nimport styles from \"./modal.module.css\";\r\n\r\nconst Modal = ({ largeImageURL, onClose }) => (\r\n  <div className={styles.Overlay} onClick={onClose} role=\"presentation\">\r\n    <div className={styles.Modal}>\r\n      <img src={largeImageURL} alt=\"\" width=\"840\" height=\"627\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./imageGallery.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\n// import PropTypes from \"prop-types\";\r\n\r\n// ImageGallery.propTypes = {\r\n//     images: PropTypes.arrayOf(PropTypes.object).isRequired\r\n// }\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    isModalOpen: false,\r\n    largeImageURL: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModal);\r\n  }\r\n\r\n  openModal = (e) => {\r\n    if (e.currentTarget !== e.target) {\r\n      this.setState({\r\n        isModalOpen: true,\r\n        largeImageURL: e.target.src,\r\n      });\r\n    }\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    if (e.code === \"Escape\" || e.currentTarget === e.target) {\r\n      this.setState({\r\n        isModalOpen: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isModalOpen, largeImageURL } = this.state;\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <ul\r\n          className={styles.ImageGallery}\r\n          onClick={this.openModal}\r\n          role=\"presentation\"\r\n        >\r\n          {images.map((image) => (\r\n            <ImageGalleryItem key={image.id} image={image} />\r\n          ))}\r\n        </ul>\r\n        {isModalOpen && (\r\n          <Modal largeImageURL={largeImageURL} onClose={this.closeModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import axios from \"axios\";\r\n\r\nconst mainURL = \"https://pixabay.com/api/?q=\";\r\nconst last =\r\n  \"&key=16022576-fff7d7449458f2c934f19517f&image_type=photo&orientation=horizontal&per_page=12\";\r\n\r\nconst unite = \"&\"\r\n\r\nexport const fetchImages = (query = \"love\", page) =>\r\n  axios.get(mainURL + query + unite + page + last);\r\n","import React from \"react\";\r\nimport styles from \"./searchBar.module.css\";\r\n\r\n\r\n const handleSubmit = (e, fetchImages) => {\r\n    e.preventDefault();\r\n    fetchImages();\r\n    \r\n  };\r\n\r\nconst Searchbar = ({fetchImages, query, handleQueryChange }) => (\r\n  <>\r\n  <header className={styles.Searchbar}>\r\n    <form onSubmit={(e) => handleSubmit(e, fetchImages)} className={styles.SearchForm}>\r\n      <button type=\"button\" className={styles.SearchFormButton}>\r\n        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n      </button>\r\n      <input\r\n        className={styles.SearchFormInput}\r\n        value={query}\r\n        onChange={handleQueryChange}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  </header>\r\n</>\r\n);\r\n\r\nexport default Searchbar;\r\n\r\n//   render() {\r\n//     // const { query } = this.state;\r\n//     return (\r\n//       <>\r\n//         <header className={styles.Searchbar}>\r\n//           <form onSubmit={this.props.fetchImages} className={styles.SearchForm}>\r\n//             <button type=\"button\" className={styles.SearchFormButton}>\r\n//               <span className={styles.SearchFormButtonLabel}>Search</span>\r\n//             </button>\r\n//             <input\r\n//               className={styles.SearchFormInput}\r\n//               value={this.props.query}\r\n//               onChange={this.props.handleQueryChange}\r\n//               type=\"text\"\r\n//               autoComplete=\"off\"\r\n//               autoFocus\r\n//               placeholder=\"Search images and photos\"\r\n//             />\r\n//           </form>\r\n//         </header>\r\n//       </>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default Searchbar;\r\n","import React from 'react';\r\nimport styles from './button.module.css'\r\n\r\nconst Button = ({loadMoreBtn}) => (\r\n    <button onClick={loadMoreBtn} className={styles.Button}>Load more</button>\r\n);\r\n\r\nexport default Button;","import React, { Component } from \"react\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"react-loader-spinner\";\n// import ErrorNotification from \"./components/ErrorNotif/ErrorNotification\";\nimport * as imagesAPI from \"./services/Api\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport Button from \"./components/Button/Button\";\nimport Modal from './components/Modal/Modal'\nimport styles from './app.module.css'\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    query: \"\",\n    page: 1,\n    isModalOpen: false\n  };\n\n\n  // componentDidMount() {\n  //   this.getImages();\n  // }\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   const {query, page} = this.state;\n  //   if (prevState.query !== query || prevState.page !== page) {\n  //     this.getImages(query, page)\n  //   }\n  // }\n\n  getImages = () => {\n    this.setState({\n      isLoading: true,\n    });\n    imagesAPI\n      .fetchImages(this.state.query, 1)\n      .then(({ data }) =>\n        this.setState({\n          images:[...data.hits],\n          // page: prevState.page + 1\n        })\n      )\n      .catch((error) =>\n        this.setState({\n          error,\n        })\n      )\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  // getImages = (e) => {\n  //   this.setState({\n  //     isLoading: true,\n  //   });\n  //   imagesAPI\n  //     .fetchImages(this.state.query, 1)\n  //     .then(({ data }) =>\n  //       this.setState({\n  //         images:[...data.hits],\n  //         // page: prevState.page + 1\n  //       })\n  //     )\n  //     .catch((error) =>\n  //       this.setState({\n  //         error,\n  //       })\n  //     )\n  //     .finally(() => {\n  //       this.setState({\n  //         isLoading: false,\n  //       });\n  //     });\n  // };\n\n  handleQueryChange = (e) => {\n    e.persist()\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  // loadMoreBtn = () => {\n  //   this.setState(prevState => ({\n  //     page: prevState.page + 1\n  //   }))\n  // }\n\n  loadMoreBtn =  () => {\n    console.log(this.state.page);\n    console.log(this.state.query);\n    imagesAPI.fetchImages(this.state.query, this.state.page + 1)\n    .then(({data}) =>\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n      images: [...prevState.images, ...data.hits]\n    }))\n\n      )\n      .catch((error) =>\n        this.setState({\n          error,\n        })\n      )\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n        this.setState({\n          isLoading: false,\n        });\n      });\n     \n  };\n\n  showModal = (e) => {\n    this.setState({\n      isModalOpen: true\n    })\n    console.log(e.target);\n    // console.log();\n  }\n\n  closeModal = () => {\n    this.setState({\n      isModalOpen: false\n    })\n  }\n\n  render() {\n    const { images, isLoading, query, isModalOpen } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar\n          query={query}\n          handleQueryChange={this.handleQueryChange}\n          fetchImages={this.getImages}\n        />\n        {/* {error && <ErrorNotification text={error.message} />} */}\n        {isLoading && (\n          <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n         <ImageGallery images={images} openModal={this.showModal}/>\n         {isModalOpen && (<Modal handleCloseModal={this.closeModal} images={images}/>)}\n        {images.length > 0 && <Button loadMoreBtn={this.loadMoreBtn} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__31UkE\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__qGc3E\"};"],"sourceRoot":""}