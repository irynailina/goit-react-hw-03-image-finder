(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"modal_Overlay__VUenJ",Modal:"modal_Modal__3hf3Z"}},21:function(e,a,t){e.exports={ImageGallery:"imageGallery_ImageGallery__l_d9Q"}},24:function(e,a,t){e.exports={Button:"button_Button__15yQk"}},25:function(e,a,t){e.exports={App:"app_App__3GesR"}},26:function(e,a,t){e.exports=t(69)},3:function(e,a,t){e.exports={Searchbar:"searchBar_Searchbar__ohU6_",SearchForm:"searchBar_SearchForm__1td_d",SearchFormButton:"searchBar_SearchFormButton__4TYD1",SearchFormButtonLabel:"searchBar_SearchFormButtonLabel__1Q9-f",SearchFormInput:"searchBar_SearchFormInput__1qUkn"}},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(20),l=t.n(o),c=t(8),i=t(4),s=t(5),m=t(7),u=t(6),g=t(9),h=t.n(g),d=function(e){var a=e.image,t=a.id,n=a.tags,o=a.webformatURL;return r.a.createElement("li",{key:t,className:h.a.ImageGalleryItem},r.a.createElement("img",{src:o,alt:n,className:h.a.ImageGalleryItemImage,width:"300",height:"200"}))},p=t(21),f=t.n(p),y=t(10),_=t.n(y),v=function(e){var a=e.largeImageURL,t=e.onClose;return r.a.createElement("div",{className:_.a.Overlay,onClick:t,role:"presentation"},r.a.createElement("div",{className:_.a.Modal},r.a.createElement("img",{src:a,alt:"",width:"840",height:"627"})))},I=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={isModalOpen:!1,largeImageURL:null},e.openModal=function(a){a.currentTarget!==a.target&&e.setState({isModalOpen:!0,largeImageURL:a.target.src})},e.closeModal=function(a){"Escape"!==a.code&&a.currentTarget!==a.target||e.setState({isModalOpen:!1})},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){var e=this.state,a=e.isModalOpen,t=e.largeImageURL,n=this.props.images;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:f.a.ImageGallery,onClick:this.openModal,role:"presentation"},n.map((function(e){return r.a.createElement(d,{key:e.id,image:e})}))),a&&r.a.createElement(v,{largeImageURL:t,onClose:this.closeModal}))}}]),t}(n.Component),E=t(22),M=t.n(E),S=t(23),b=t.n(S),O="https://pixabay.com/api/?q=",B="&key=16022576-fff7d7449458f2c934f19517f&image_type=photo&orientation=horizontal&per_page=12",w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"love",a=arguments.length>1?arguments[1]:void 0;return b.a.get(O+e+"&page="+a+B)},k=t(3),F=t.n(k),L=function(e){var a=e.fetchImages,t=e.query,n=e.handleQueryChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:F.a.Searchbar},r.a.createElement("form",{onSubmit:function(e){return function(e,a){e.preventDefault(),a()}(e,a)},className:F.a.SearchForm},r.a.createElement("button",{type:"button",className:F.a.SearchFormButton},r.a.createElement("span",{className:F.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:F.a.SearchFormInput,value:t,onChange:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}))))},C=t(24),G=t.n(C),N=t(1),j=function(e){var a=e.loadMoreBtn;return r.a.createElement("button",{onClick:a,className:G.a.Button},"Load more")},q=j;j.propType={loadMoreBtn:t.n(N).a.func.isRequired};var U=t(25),x=t.n(U),R=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],isLoading:!1,error:null,query:"",page:1,isModalOpen:!1},e.getImages=function(){e.setState({isLoading:!0}),w(e.state.query,1).then((function(a){var t=a.data;return e.setState((function(e){return{images:Object(c.a)(t.hits),page:e.page+1}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){e.setState({isLoading:!1})}))},e.handleQueryChange=function(a){a.persist(),e.setState({query:a.target.value})},e.loadMoreBtn=function(){w(e.state.query,e.state.page+1).then((function(a){return e.setState((function(e){return{page:e.page+1,images:[].concat(Object(c.a)(e.images),Object(c.a)(a.data.hits))}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.setState({isLoading:!1})}))},e.showModal=function(a){e.setState({isModalOpen:!0}),console.log(a.target)},e.closeModal=function(){e.setState({isModalOpen:!1})},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.query,o=e.isModalOpen;return r.a.createElement("div",{className:x.a.App},r.a.createElement(L,{query:n,handleQueryChange:this.handleQueryChange,fetchImages:this.getImages}),t&&r.a.createElement(M.a,{type:"Hearts",color:"#00BFFF",height:80,width:80}),r.a.createElement(I,{images:a,openModal:this.showModal}),o&&r.a.createElement(v,{handleCloseModal:this.closeModal,images:a}),a.length>0&&r.a.createElement(q,{loadMoreBtn:this.loadMoreBtn}))}}]),t}(n.Component);l.a.render(r.a.createElement(R,null),document.getElementById("root"))},9:function(e,a,t){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__31UkE",ImageGalleryItemImage:"imageGalleryItem_ImageGalleryItemImage__qGc3E"}}},[[26,1,2]]]);
//# sourceMappingURL=main.fcc53da1.chunk.js.map